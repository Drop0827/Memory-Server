# ğŸš€ Memory-Server é¡¹ç›®å¯åŠ¨æŒ‡å—

## ğŸ“‹ å‰ç½®è¦æ±‚

åœ¨å¯åŠ¨é¡¹ç›®ä¹‹å‰ï¼Œè¯·ç¡®ä¿ä½ çš„ç³»ç»Ÿå·²å®‰è£…ï¼š

1. **Java 17 æˆ–æ›´é«˜ç‰ˆæœ¬**

   ```powershell
   # æ£€æŸ¥ Java ç‰ˆæœ¬
   java -version
   ```

   åº”è¯¥æ˜¾ç¤ºç‰ˆæœ¬ 17.x.x æˆ–æ›´é«˜

2. **Maven 3.6+**

   ```powershell
   # æ£€æŸ¥ Maven ç‰ˆæœ¬
   mvn -version
   ```

3. **MySQL æ•°æ®åº“**ï¼ˆç¡®ä¿å·²å¯åŠ¨å¹¶åˆ›å»ºå¥½æ•°æ®åº“ï¼‰

4. **Redis**ï¼ˆå¦‚æœé¡¹ç›®ä½¿ç”¨äº† Redisï¼‰

---

## ğŸ“‚ é¡¹ç›®ç»“æ„

```
Memory-Server/
â”œâ”€â”€ memory-model/      # å®ä½“æ¨¡å‹æ¨¡å—
â”œâ”€â”€ memory-blog/       # ä¸»åº”ç”¨æ¨¡å—ï¼ˆåŒ…å«å¯åŠ¨ç±»ï¼‰
â””â”€â”€ pom.xml           # çˆ¶çº§ POM é…ç½®
```

---

## ğŸ”§ å¯åŠ¨æ­¥éª¤

### æ–¹æ³•ä¸€ï¼šä½¿ç”¨ Maven å‘½ä»¤å¯åŠ¨ï¼ˆæ¨èï¼‰

#### 1. æ‰“å¼€ç»ˆç«¯å¹¶è¿›å…¥é¡¹ç›®æ ¹ç›®å½•

```powershell
cd c:\Develop\Blog\Memory-Server
```

#### 2. æ¸…ç†å¹¶ç¼–è¯‘é¡¹ç›®

```powershell
mvn clean install
```

è¿™ä¸ªå‘½ä»¤ä¼šï¼š

- æ¸…ç†ä¹‹å‰çš„ç¼–è¯‘æ–‡ä»¶
- ç¼–è¯‘æ‰€æœ‰æ¨¡å—
- è¿è¡Œæµ‹è¯•
- å°†æ¨¡å—å®‰è£…åˆ°æœ¬åœ° Maven ä»“åº“

#### 3. å¯åŠ¨åº”ç”¨

```powershell
# è¿›å…¥ä¸»åº”ç”¨æ¨¡å—
cd memory-blog

# ä½¿ç”¨ Spring Boot Maven æ’ä»¶å¯åŠ¨
mvn spring-boot:run
```

æˆ–è€…ä¸€æ¡å‘½ä»¤å®Œæˆï¼š

```powershell
# åœ¨æ ¹ç›®å½•æ‰§è¡Œ
mvn clean install && cd memory-blog && mvn spring-boot:run
```

---

### æ–¹æ³•äºŒï¼šä½¿ç”¨ç¼–è¯‘å¥½çš„ JAR åŒ…å¯åŠ¨

#### 1. ç¼–è¯‘é¡¹ç›®

```powershell
cd c:\Develop\Blog\Memory-Server
mvn clean package -DskipTests
```

#### 2. æ‰¾åˆ°ç”Ÿæˆçš„ JAR åŒ…

```powershell
# JAR åŒ…ä½ç½®ï¼ˆé€šå¸¸åœ¨ï¼‰
cd memory-blog\target
```

#### 3. è¿è¡Œ JAR åŒ…

```powershell
java -jar memory-blog-1.0-SNAPSHOT.jar
```

æˆ–è€…æŒ‡å®šé…ç½®æ–‡ä»¶ï¼š

```powershell
java -jar memory-blog-1.0-SNAPSHOT.jar --spring.profiles.active=dev
```

---

### æ–¹æ³•ä¸‰ï¼šåœ¨ IDEA ä¸­å¯åŠ¨

1. æ‰“å¼€ IDEAï¼Œå¯¼å…¥é¡¹ç›®
2. ç­‰å¾… Maven ä¾èµ–ä¸‹è½½å®Œæˆ
3. æ‰¾åˆ° `memory-blog` æ¨¡å—ä¸­çš„ä¸»å¯åŠ¨ç±»ï¼ˆé€šå¸¸æ˜¯ `MemoryServerApplication.java` æˆ–ç±»ä¼¼åç§°ï¼‰
4. å³é”®ç‚¹å‡» â†’ `Run 'MemoryServerApplication'`

---

## âœ… éªŒè¯å¯åŠ¨æˆåŠŸ

### 1. æ£€æŸ¥æ§åˆ¶å°è¾“å‡º

å¯åŠ¨æˆåŠŸåï¼Œä½ åº”è¯¥çœ‹åˆ°ç±»ä¼¼è¿™æ ·çš„æ—¥å¿—ï¼š

```
Started MemoryServerApplication in 3.456 seconds (JVM running for 4.123)
```

### 2. æµ‹è¯• API æ¥å£

```powershell
# æµ‹è¯•è·å–çƒ­é—¨æ–‡ç« 
curl http://localhost:8080/api/article/hot

# æµ‹è¯•è·å–éšæœºæ–‡ç« 
curl http://localhost:8080/api/article/random
```

### 3. è®¿é—® Swagger æ–‡æ¡£

åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ï¼š

```
http://localhost:8080/swagger-ui/index.html
```

æˆ–æŸ¥çœ‹ OpenAPI JSONï¼š

```
http://localhost:8080/v3/api-docs
```

---

## ğŸ› å¸¸è§é—®é¢˜

### é—®é¢˜ 1ï¼šç«¯å£è¢«å ç”¨

**é”™è¯¯ä¿¡æ¯**ï¼š

```
Port 8080 was already in use
```

**è§£å†³æ–¹æ³•**ï¼š

```powershell
# æ–¹å¼ 1: ä¿®æ”¹é…ç½®æ–‡ä»¶ä¸­çš„ç«¯å£
# ç¼–è¾‘ memory-blog/src/main/resources/application.yml
# server:
#   port: 8081

# æ–¹å¼ 2: å¯åŠ¨æ—¶æŒ‡å®šç«¯å£
java -jar memory-blog-1.0-SNAPSHOT.jar --server.port=8081
```

---

### é—®é¢˜ 2ï¼šæ•°æ®åº“è¿æ¥å¤±è´¥

**é”™è¯¯ä¿¡æ¯**ï¼š

```
Cannot create PoolableConnectionFactory
```

**è§£å†³æ–¹æ³•**ï¼š

1. ç¡®ä¿ MySQL å·²å¯åŠ¨
2. æ£€æŸ¥ `application.yml` ä¸­çš„æ•°æ®åº“é…ç½®ï¼š
   - æ•°æ®åº“åœ°å€
   - ç”¨æˆ·åå’Œå¯†ç 
   - æ•°æ®åº“åç§°

---

### é—®é¢˜ 3ï¼šMaven ç¼–è¯‘å¤±è´¥

**è§£å†³æ–¹æ³•**ï¼š

```powershell
# 1. æ¸…ç† Maven ç¼“å­˜
mvn clean

# 2. å¼ºåˆ¶æ›´æ–°ä¾èµ–
mvn clean install -U

# 3. è·³è¿‡æµ‹è¯•
mvn clean install -DskipTests
```

---

### é—®é¢˜ 4ï¼šJava ç‰ˆæœ¬ä¸å…¼å®¹

**é”™è¯¯ä¿¡æ¯**ï¼š

```
Unsupported class file major version
```

**è§£å†³æ–¹æ³•**ï¼š

```powershell
# ç¡®ä¿ä½¿ç”¨ Java 17 æˆ–æ›´é«˜ç‰ˆæœ¬
java -version

# å¦‚æœç‰ˆæœ¬ä¸å¯¹ï¼Œéœ€è¦å®‰è£…æˆ–åˆ‡æ¢ Java ç‰ˆæœ¬
```

---

## ğŸ¯ å¿«é€Ÿå¯åŠ¨è„šæœ¬

ä½ å¯ä»¥åˆ›å»ºä¸€ä¸ª PowerShell è„šæœ¬æ¥å¿«é€Ÿå¯åŠ¨é¡¹ç›®ï¼š

**å¯åŠ¨è„šæœ¬** (`start.ps1`):

```powershell
# è¿›å…¥é¡¹ç›®ç›®å½•
cd c:\Develop\Blog\Memory-Server

# ç¼–è¯‘é¡¹ç›®
Write-Host "æ­£åœ¨ç¼–è¯‘é¡¹ç›®..." -ForegroundColor Green
mvn clean install -DskipTests

# æ£€æŸ¥ç¼–è¯‘æ˜¯å¦æˆåŠŸ
if ($LASTEXITCODE -eq 0) {
    Write-Host "ç¼–è¯‘æˆåŠŸï¼å¯åŠ¨åº”ç”¨..." -ForegroundColor Green
    cd memory-blog
    mvn spring-boot:run
} else {
    Write-Host "ç¼–è¯‘å¤±è´¥ï¼Œè¯·æ£€æŸ¥é”™è¯¯ä¿¡æ¯" -ForegroundColor Red
}
```

ä½¿ç”¨æ–¹æ³•ï¼š

```powershell
.\start.ps1
```

---

## ğŸ“ é…ç½®æ–‡ä»¶è¯´æ˜

ä¸»è¦é…ç½®æ–‡ä»¶ä½ç½®ï¼š

```
memory-blog/src/main/resources/
â”œâ”€â”€ application.yml          # ä¸»é…ç½®æ–‡ä»¶
â”œâ”€â”€ application-dev.yml      # å¼€å‘ç¯å¢ƒé…ç½®
â””â”€â”€ application-prod.yml     # ç”Ÿäº§ç¯å¢ƒé…ç½®
```

---

## ğŸŒ é»˜è®¤è®¿é—®åœ°å€

å¯åŠ¨æˆåŠŸåï¼Œå¯ä»¥è®¿é—®ï¼š

| æœåŠ¡         | åœ°å€                                        |
| ------------ | ------------------------------------------- |
| ä¸»åº”ç”¨       | http://localhost:8080                       |
| Swagger UI   | http://localhost:8080/swagger-ui/index.html |
| OpenAPI Docs | http://localhost:8080/v3/api-docs           |
| API æ¥å£     | http://localhost:8080/api/\*                |

---

## ğŸ’¡ æç¤º

1. **é¦–æ¬¡å¯åŠ¨å»ºè®®**ï¼šå…ˆç”¨ `mvn clean install` å®Œæ•´ç¼–è¯‘ä¸€æ¬¡
2. **å¼€å‘æ—¶**ï¼šæ¨èä½¿ç”¨ `mvn spring-boot:run`ï¼Œæ”¯æŒçƒ­é‡è½½
3. **ç”Ÿäº§ç¯å¢ƒ**ï¼šä½¿ç”¨ç¼–è¯‘å¥½çš„ JAR åŒ…è¿è¡Œ
4. **è°ƒè¯•**ï¼šåœ¨ IDEA ä¸­ä»¥ Debug æ¨¡å¼å¯åŠ¨

---

**ç¥ä½ å¼€å‘æ„‰å¿«ï¼** ğŸ‰
