# 项目接口清单 (API List)

根据代码 (`WebConfig.java` 及各 Controller) 分析，本项目接口主要分为两类：

1.  **控制端接口 (Admin API)**: 用于管理后台，需携带 Token。
2.  **前端接口 (Frontend API)**: 用于博客前台，大部分无需鉴权。

> **统一前缀**: 所有业务接口均带有 `/api` 前缀。

---

## 1. 控制端接口 (Admin API)

**鉴权方式**: HTTP Header 需包含 `Authorization: Bearer <token>`
**适用范围**: 增删改查等管理操作。

| 模块            | 功能         | 请求方式 | 接口路径                      | 说明                         |
| :-------------- | :----------- | :------- | :---------------------------- | :--------------------------- |
| **文章管理**    | 新增文章     | `POST`   | `/api/article`                |                              |
|                 | 编辑文章     | `PATCH`  | `/api/article`                |                              |
|                 | 删除文章     | `DELETE` | `/api/article/{id}/{is_del}`  | `is_del`: 1=回收, 0=彻底删除 |
|                 | 批量删除     | `DELETE` | `/api/article/batch`          |                              |
|                 | 还原文章     | `PATCH`  | `/api/article/reduction/{id}` | 从回收站还原                 |
|                 | 导入文章     | `POST`   | `/api/article/import`         | MultipartFile                |
|                 | 导出文章     | `POST`   | `/api/article/export`         |                              |
| **用户管理**    | 新增用户     | `POST`   | `/api/user`                   |                              |
|                 | 删除用户     | `DELETE` | `/api/user/{id}`              |                              |
|                 | 批量删除     | `DELETE` | `/api/user/batch`             |                              |
|                 | 编辑用户     | `PATCH`  | `/api/user`                   |                              |
|                 | 修改密码     | `PATCH`  | `/api/user/pass`              |                              |
|                 | 获取用户     | `GET`    | `/api/user/{id}`              | (需Token)                    |
| **评论管理**    | 删除评论     | `DELETE` | `/api/comment/{id}`           |                              |
|                 | 批量删除     | `DELETE` | `/api/comment/batch`          |                              |
|                 | 审核评论     | `PATCH`  | `/api/comment/audit/{id}`     |                              |
|                 | 编辑评论     | `PATCH`  | `/api/comment`                |                              |
| **配置 / 其他** | 更新网站配置 | `PATCH`  | `/api/web_config/json/{id}`   | JSON 更新                    |
|                 | 文件上传     | `POST`   | `/api/file/upload`            | (推测)                       |

---

## 2. 前端接口 (Frontend API)

**鉴权方式**: 无需 Token (拦截器放行 `GET` 请求及 `@NoTokenRequired` 接口)。
**适用范围**: 博客文章展示、评论提交等。

| 模块          | 功能      | 请求方式 | 接口路径                    | 说明               |
| :------------ | :-------- | :------- | :-------------------------- | :----------------- |
| **文章展示**  | 文章列表  | `POST`   | `/api/article/list`         | 支持筛选 (NoToken) |
|               | 文章分页  | `POST`   | `/api/article/paging`       | 支持分页 (NoToken) |
|               | 文章详情  | `GET`    | `/api/article/{id}`         |                    |
|               | 热门文章  | `GET`    | `/api/article/hot`          |                    |
|               | 随机文章  | `GET`    | `/api/article/random`       |                    |
|               | 分类文章  | `GET`    | `/api/article/cate/{id}`    |                    |
|               | 标签文章  | `GET`    | `/api/article/tag/{id}`     |                    |
| **评论互动**  | 发布评论  | `POST`   | `/api/comment`              | (NoToken)          |
|               | 评论列表  | `POST`   | `/api/comment/list`         | (NoToken)          |
|               | 文章评论  | `POST`   | `/api/comment/article/{id}` | (NoToken)          |
| **用户/认证** | 用户登录  | `POST`   | `/api/user/login`           | **获取 Token**     |
|               | 站长信息  | `GET`    | `/api/user/author`          |                    |
|               | 校验Token | `GET`    | `/api/user/check`           |                    |
| **基础信息**  | 网站配置  | `GET`    | `/api/web_config/list`      |                    |
|               | 标签列表  | `GET`    | `/api/tag/list`             | (推测)             |
|               | 分类列表  | `GET`    | `/api/cate/list`            | (推测)             |

---

### 注意事项

1.  **Swagger 文档**: 启动服务后，访问 `http://localhost:8080/doc.html` 可查看包含参数定义的完整文档。
2.  **鉴权规则**: 详见 `WebConfig.java` 和 `JwtTokenAdminInterceptor.java`。
